Wed Sep 12 22:01:04 EDT 2007

[vee] summary of latest...now testing for next release

--

<b>Notes:</b>

a. the basic functionality of vee has not changed, and if you don't intend on spending time to write a custom filter or define your own format functions then you don't have to read on..

b. there have been new files added, but they are all example files; the main script may still be used all by itself with zero configurations...

c. ehancements and features are frozen; I am now focusing on making sure that everything works as intended; once I am sure it does I will make another release.

d. to keep things sane if vee gets some users, I will be providing all "officially" approved filters and custom format files here; if you develop anything, please let me know;

<b>Get the latest:</b>

'nf
    svn export http://vee.googlecode.com/svn/trunk/trunk vee
'fi

And now on to the main ehancements. 

<b>1) Filters</b>

The filter provides a user with a means to modify the input before being passed onto the format function.  This opens up a lot of possibilities - for example, enabling some formatting shorthand, etc.

Filter requirements:

* accept the raw text via STDIN; output modified text via STDOUT;

* the filter must be executable (chmod 755) 

Notes:

* a filter may be specified using the "-x" flag at the command line;

* currently, only a single argument is passed to the filter, and this is the name of the format function that is going to be called immediately after the filter is finished;

* the filter can also be set inside of vee or in a ./.veerc file by defining the PREFORMAT_FILTER variable;

* the current default is set to ./vee-filter, so if this file exists in the publish directory and is executable then it will be called - be forewarned; this can be changed by changing the value of PREFORMAT_FILTER in vee itself.

* filters are NOT applied when raw files are reformatted since the filter affects what is written to the raw files themselfs;

<b>2) Custom format functions</b>

It is now a whole lot easier to add custom formats.  There is one variable that may be set either in vee itself or via the ./.veerc file:

FORMAT_CUSTOM_DEFS

The default in vee is set to "./vee-custom.sh" , which means it is local to the publish directory.  One may put in an absolute path to use one custom formats file across multiple publish directories.  

Custom Format Requirements:

* it must be written in bourne shell, as it will be sourced inside of vee itself;

Notes:

* it is highly, highly recommended that one starts with the example custom format file in vee/sample-custom-format/vee-custom.sh

* NO modifications should be made to the default dispatch function in the vee script - any unrecognized format types not already defined get passed onto the FORMAT_CUSTOM_DEFS file if it exists

* obviously, custom formats are available when reformatting;
